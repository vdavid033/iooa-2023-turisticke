"use strict";var e=require("postcss"),r=require("rtlcss");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n,t,i,a=o(e),d=o(r),l=function(){return l=Object.assign||function(e){for(var r,o=1,n=arguments.length;o<n;o++)for(var t in r=arguments[o])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},l.apply(this,arguments)};function s(e,r,o){if(o||2===arguments.length)for(var n,t=0,i=r.length;t<i;t++)!n&&t in r||(n||(n=Array.prototype.slice.call(r,0,t)),n[t]=r[t]);return e.concat(n||Array.prototype.slice.call(r))}!function(e){e.combined="combined",e.override="override",e.diff="diff"}(n||(n={})),function(e){e.ltr="ltr",e.rtl="rtl"}(t||(t={})),function(e){e.disabled="disabled",e.flexible="flexible",e.strict="strict"}(i||(i={}));var c,u,f=/rtl:/,p=/rtl:ignore/,b=/^\/\*!? *rtl:?(begin|end)?:(\w+):?([^*]*?) *\*\/$/,m=/(right|left)/i,v=/^(html)(?=\W|$)/,g=/(:root)(?=\W|$)/,h=/[.?*+^$[\]\\(){}|-]/g,y=/\w$/;!function(e){e.IGNORE="ignore",e.RENAME="rename",e.SOURCE="source",e.RAW="raw"}(c||(c={})),function(e){e.BEGIN="begin",e.END="end"}(u||(u={}));var R=new RegExp("$-^"),k=[{name:"left-right",search:["left","Left","LEFT"],replace:["right","Right","RIGHT"]},{name:"ltr-rtl",search:["ltr","Ltr","LTR"],replace:["rtl","Rtl","RTL"]}],x=function(e){if(e.name)return e.name;var r=Array.isArray(e.search)?e.search[0]:e.search,o=Array.isArray(e.replace)?e.replace[0]:e.replace,n=/[^\w]/g,t=r.replace(n,"-"),i=o.replace(n,"_");return"".concat(t,"-").concat(i)},E=function(e){return e.map((function(e){return{name:x(e),priority:100,search:e.search,replace:e.replace,options:{scope:"*",ignoreCase:!1}}}))},w=Object.keys(n).map((function(e){return n[e]})),P=Object.keys(t).map((function(e){return t[e]})),A=Object.keys(i).map((function(e){return i[e]})),O=function(e){return"string"!=typeof e&&!Array.isArray(e)||!!Array.isArray(e)&&e.some((function(e){return"string"!=typeof e}))},T=function(e,r){return"string"==typeof r?s(s([],e,!0),[r],!1):s(s([],e,!0),r,!0)},S=function(){return{mode:n.combined,ltrPrefix:'[dir="ltr"]',rtlPrefix:'[dir="rtl"]',bothPrefix:"[dir]",prefixSelectorTransformer:null,safeBothPrefix:!1,ignorePrefixedRules:!0,source:t.ltr,processUrls:!1,processKeyFrames:!1,processEnv:!0,useCalc:!1,stringMap:E(k),autoRename:i.disabled,greedy:!1,aliases:{}}},j={options:l({},S()),keyframes:[],keyframesToRemove:[],keyframesStringMap:{},keyframesRegExp:R,rules:[],rulesAutoRename:[],rulesToRemove:[],rulesPrefixRegExp:R},M=function(e){var r,o=l({},S());(e.mode&&w.includes(e.mode)&&(o.mode=e.mode),e.source&&P.includes(e.source)&&(o.source=e.source),e.autoRename&&A.includes(e.autoRename)&&(o.autoRename=e.autoRename),"boolean"==typeof e.ignorePrefixedRules&&(o.ignorePrefixedRules=e.ignorePrefixedRules),"boolean"==typeof e.greedy&&(o.greedy=e.greedy),O(e.ltrPrefix)||(o.ltrPrefix=e.ltrPrefix),O(e.rtlPrefix)||(o.rtlPrefix=e.rtlPrefix),O(e.bothPrefix)||(o.bothPrefix=e.bothPrefix),"function"==typeof e.prefixSelectorTransformer&&(o.prefixSelectorTransformer=e.prefixSelectorTransformer),"boolean"==typeof e.safeBothPrefix&&(o.safeBothPrefix=e.safeBothPrefix),"boolean"==typeof e.processUrls&&(o.processUrls=e.processUrls),"boolean"==typeof e.processKeyFrames&&(o.processKeyFrames=e.processKeyFrames),"boolean"==typeof e.processEnv&&(o.processEnv=e.processEnv),"boolean"==typeof e.useCalc&&(o.useCalc=e.useCalc),function(e){return!Array.isArray(e)||e.some((function(e){return typeof e.search!=typeof e.replace||O(e.search)||O(e.replace)||Array.isArray(e.search)&&Array.isArray(e.replace)&&e.search.length!==e.replace.length}))}(e.stringMap))||E(e.stringMap).forEach((function(e){e.name===k[0].name?o.stringMap.splice(0,1,e):e.name===k[1].name?o.stringMap.splice(1,1,e):o.stringMap.push(e)}));return e.aliases&&(r=e.aliases,!Object.entries(r).some((function(e){return"string"!=typeof e[1]})))&&(o.aliases=e.aliases),o},N=function(e){j.options=M(e),j.keyframes=[],j.keyframesToRemove=[],j.keyframesStringMap={},j.keyframesRegExp=R,j.rules=[],j.rulesAutoRename=[],j.rulesToRemove=[],j.rulesPrefixRegExp=function(e){var r=e.ltrPrefix,o=e.rtlPrefix,n=e.bothPrefix;if(!e.ignorePrefixedRules)return R;var t=[];return t=T(t,r),t=T(t,o),t=(t=T(t,n)).map((function(e){var r=e.replace(h,"\\$&");return y.test(e)?"".concat(r,"(?:\\W|$)"):r})),new RegExp("(".concat(t.join("|"),")"))}(j.options)},I=function(){var e,r;j.keyframesStringMap=(e=j.keyframes,r={},e.forEach((function(e){r[e.atRuleParams]={name:e.atRule.params,nameFlipped:e.atRuleFlipped.params}})),r),j.keyframesRegExp=function(e){return new RegExp("(^|[^\\w-]| )(".concat(Object.keys(e).join("|"),")( |[^\\w-]|$)"),"g")}(j.keyframesStringMap)},C=Object.values(c),F=Object.values(u),G=function(e){var r=e.toString().match(b);if(r&&function(e){return C.includes("".concat(e[2]))&&(void 0===e[1]||F.includes("".concat(e[1])))}(r)){var o={directive:r[2]};return r[1]&&(o.block=r[1]),r[3]&&(o.option=r[3]),o}return null},B=function(e,r){return e.directive===c.IGNORE&&!e.block&&r[c.IGNORE]&&r[c.IGNORE].block===u.BEGIN},L=function(e,r){var o=e[r];if(o){var n=o.block;if(n!==u.BEGIN&&delete e[r],n!==u.END)return!0}return!1},U=function(e,r){var o=e[c.SOURCE],n=L(e,c.SOURCE);return o&&n?o.option:r||void 0},$=function(e,r,o,n){e.each((function(e){if("comment"===e.type||r.includes(e.type))if("comment"===e.type){var t=e,i=G(t);i&&o(t,i)}else n(e)}))},W=/^-\w+-/,K=function(e){return e.replace(W,"")},q=function(e,r){if(j.options.prefixSelectorTransformer){var o=j.options.prefixSelectorTransformer(e,r);if(o&&"string"==typeof o)return o}return v.test(r)?r.replace(v,"$1".concat(e)):g.test(r)?r.replace(g,"".concat(e,"$1")):"".concat(e," ").concat(r)},D=function(e,r){e.selectors="string"==typeof r?e.selectors.map((function(e){return j.rulesPrefixRegExp.test(e)?e:q(r,e)})):e.selectors.reduce((function(e,o){return e=j.rulesPrefixRegExp.test(o)?s(s([],e,!0),[o],!1):e.concat(r.map((function(e){return q(e,o)})))}),[])},z=function(e){return!!e.selectors.find((function(e){return j.rulesPrefixRegExp.test(e)}))},H=function(e){return e.some((function(e){return"decl"===e.type||"rule"===e.type&&H(e)||"atrule"===e.type&&H(e)}))},_=function(e,r,o){if(function(e){return e.some((function(e){return"decl"===e.type}))}(r)){var n;for(o=s([],o,!0);o.length;){n=o.shift();var t=e.nodes.find((function(e){if("rule"===e.type&&e.selector===n.selector)return!0}));t?n=t:(n=n.clone().removeAll(),e.append(n)),e=n}e.append(r)}},J=function(e,r,o,i,a){var d={rule:e,ruleLTR:r,ruleRTL:o,ruleBoth:i,ruleSafe:a};return j.options.mode!==n.diff&&function(e,r,o,i){var a=j.options,d=a.mode,l=a.ltrPrefix,s=a.rtlPrefix,c=a.bothPrefix,u=a.source;d===n.combined?(D(e,u===t.ltr?l:s),D(r,u===t.rtl?l:s)):(D(e,u===t.ltr?s:l),D(r,u===t.rtl?s:l)),D(o,c),D(i,c)}(r,o,i,a),j.rules.push(d),d},Q=function(e,r,o,n,t){var i=function(e){for(var r=[];"rule"===e.type;)r.push(e),e=e.parent;return r.shift(),r.reverse()}(e),a=i.shift(),d=j.rules.find((function(e){return e.rule===a}));if(!d){var l=a.clone().removeAll(),s=l.clone(),c=l.clone(),u=l.clone();d=J(a,l,s,c,u)}!function(e,r,o,n,t,i){_(t.ruleLTR,e,i),_(t.ruleRTL,r,i),_(t.ruleBoth,o,i),_(t.ruleSafe,n,i)}(r,o,n,t,d,i)},V=function(e,r){void 0===r&&(r="\n\n"),!e||"rule"!==e.type&&"atrule"!==e.type||(e.raws.before="".concat(r).concat(e.raws.before?e.raws.before.replace(/\n/g,""):""))},X=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.forEach((function(e){var r=e.prev();r&&"comment"!==r.type&&V(e),e.walk((function(e){if("decl"===e.type){var r=e;r.raws&&r.raws.value&&f.test(r.raws.value.raw)&&(delete r.raws.value,r.value=r.value.trim())}}))}))},Y=function(e){H(e)?e.walkRules((function(e){Y(e),H(e)||e.remove()})):e.remove()},Z={animation:{overridden:null,overrides:["animation-direction","animation-duration","animation-delay","animation-name","animation-fill-mode","animation-iteration-count","animation-play-state","animation-timing-function"]},background:{overridden:null,overrides:["background-attachment","background-clip","background-color","background-image","background-repeat","background-size"]},"background-position":{overridden:"background",overrides:["background-position-x","background-position-y"]},border:{overridden:null,overrides:[]},"border-bottom":{overridden:"border",overrides:["border-bottom-color","border-bottom-style","border-bottom-width"]},"border-left":{overridden:"border",overrides:["border-left-color","border-left-style","border-left-width"]},"border-right":{overridden:"border",overrides:["border-right-color","border-right-style","border-right-width"]},"border-top":{overridden:"border",overrides:["border-top-color","border-top-style","border-top-width"]},"border-color":{overridden:"border",overrides:["border-bottom-color","border-left-color","border-right-color","border-top-color"]},"border-style":{overridden:"border",overrides:["border-bottom-style","border-left-style","border-right-style","border-top-style"]},"border-width":{overridden:"border",overrides:["border-bottom-width","border-left-width","border-right-width","border-top-width"]},"border-radius":{overridden:null,overrides:["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius"]},margin:{overridden:null,overrides:["margin-bottom","margin-left","margin-top","margin-right"]},padding:{overridden:null,overrides:["padding-bottom","padding-left","padding-top","padding-right"]},transition:{overridden:null,overrides:["transition-delay","transition-duration","transition-property","transition-timing-function"]}},ee={"border-left":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-right":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-left-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-right-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-left-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-right-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-left-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-right-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-radius":{overridden:null,overrides:["border-start-start-radius","border-start-end-radius","border-end-start-radius","border-end-end-radius"]},"border-bottom-left-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-bottom-right-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-top-left-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},"border-top-right-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},left:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},right:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},margin:{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},"margin-left":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},"margin-right":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},padding:{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]},"padding-left":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]},"padding-right":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]}},re=["box-shadow","clear","cursor","direction","float","left","right","text-align","text-align-last","text-shadow","transform","transform-origin"],oe={0:["border-bottom-right-radius","border-bottom-left-radius","border-end-end-radius","border-end-start-radius","border-start-end-radius","border-start-start-radius","border-top-left-radius","border-top-right-radius","margin-block-end","margin-block-start","margin-top","margin-right","margin-bottom","margin-left","margin-inline-end","margin-inline-start","padding-block-end","padding-block-start","padding-top","padding-right","padding-bottom","padding-left","padding-inline-end","padding-inline-start","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left","scroll-margin-inline-end","scroll-margin-inline-start"],auto:["top","right","bottom","left","grid-column-end","grid-column-start","grid-row-end","grid-row-start","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left","scroll-padding-inline-end","scroll-padding-inline-start"],currentcolor:["border-block-start-color","border-block-end-color","border-top-color","border-right-color","border-bottom-color","border-left-color","border-inline-start-color","border-inline-end-color"],medium:["border-block-start-width","border-block-end-width","border-top-width","border-right-width","border-bottom-width","border-left-width","border-inline-start-width","border-inline-end-width"],none:["border-block-start","border-block-end","border-top","border-right","border-bottom","border-left","border-top-style","border-right-style","border-bottom-style","border-left-style","border-block-start-style","border-block-end-style","border-inline-start","border-inline-end","border-inline-start-style","border-inline-end-style"]},ne={},te={},ie={},ae=function(e){return Array.from(new Set(e))},de=function(e){var r=Z[e].overridden;return r?[r].concat(de(r)):[]};Object.keys(Z).forEach((function(e){var r=de(e);ne[e]=r,Z[e].overrides.forEach((function(o){ne[o]=[e].concat(r)}))})),Object.keys(ee).forEach((function(e){var r=function(e){var r,o=null===(r=Z[e])||void 0===r?void 0:r.overridden,n=ee[e].overridden,t=o?[o].concat(de(o)):[],i=n?[n].concat(de(n)):[];return ae(s(s([],t,!0),i,!0))}(e);ne[e]=ne[e]?ae(s(s([],ne[e],!0),r,!0)):r,ee[e].overrides.forEach((function(o){ne[o]=ne[o]?ae(s(s([],ne[o],!0),[e].concat(r),!0)):ae([e].concat(r))}))})),Object.assign(te,ne),re.forEach((function(e){te[e]=[]})),Object.keys(oe).forEach((function(e){oe[e].forEach((function(r){ie[r]=e}))}));var le=function(e,r){var o=e.clone(),n=e.prev();if(n&&"comment"===n.type){var t=n.clone();r.append(t),n.remove()}r.append(o)},se=function(e){var r=!!e.raws&&!!e.raws.value&&e.raws.value.raw;return!(!r||!p.test(r))},ce=function(e,r,o){var n=e.index(r),t=Object.keys(o[r.prop]).map(Number);return 1!==t.length&&t.some((function(e){return e>n}))},ue=function(e,r,o,t){void 0===t&&(t=!1);var l=j.options,s=l.mode,u=l.source,f=l.safeBothPrefix,p=l.processUrls,b=l.processEnv,v=l.useCalc,g=l.stringMap,h=l.autoRename,y=l.greedy,R=l.aliases,k=[],x=e.clone().removeAll(),E=x.clone(),w=x.clone(),P=x.clone(),A=Array.prototype.reduce.call(e.nodes,(function(r,o){if("decl"===o.type){var n=o,t=e.index(n);r[n.prop]=r[n.prop]||{},r[n.prop][t]={decl:n,value:n.value.trim()}}return r}),{}),O=[],T=!1,S={};$(e,["decl"],(function(r,t){var i,d;if(V(r.next()),r.remove(),t.directive===c.RAW&&t.option){var l=U(S,o),f=a.default.parse(t.option,{from:null===(d=null===(i=e.source)||void 0===i?void 0:i.input)||void 0===d?void 0:d.from});s===n.combined&&!l||l&&(s===n.combined&&l===u||s===n.override&&l!==u)?E.append(f.nodes):x.append(f.nodes)}B(t,S)||(S[t.directive]=t)}),(function(r){var t,l;if(!L(S,c.IGNORE)){var M=L(S,c.RENAME),N=r,I="".concat(N.toString(),";"),C=d.default.process(I,{processUrls:p||M,processEnv:b,useCalc:v,stringMap:g,autoRename:h!==i.disabled,autoRenameStrict:h===i.strict,greedy:y,aliases:R}),F=a.default.parse(C,{from:null===(l=null===(t=e.source)||void 0===t?void 0:t.input)||void 0===l?void 0:l.from}).first;F.source=N.source,F.raws=N.raws;var G=N.prop.trim(),B=K(G),$=N.value.trim(),W="animation"===B||"animation-name"===B,q=F.prop.trim(),D=F.value.trim(),z=ne[B],H=O.includes(B)||!!z&&z.some((function(e){return O.indexOf(e)>=0})),_=function(e,r){return r.some((function(r){return ne[r]&&ne[r].includes(e)}))}(B,O),J=!!f&&!!te[B],Q=U(S,o),V=!Q||Q===u||s===n.diff;if((G!==q||$!==D||H||_||J||W)&&!ce(e,N,A))if(W)if(G!==q||$!==D||0!==j.keyframes.length&&j.keyframesRegExp.test($)){var X=N.value.replace(j.keyframesRegExp,(function(e,r,o,n){return r+j.keyframesStringMap[o].name+n})),Y=N.value.replace(j.keyframesRegExp,(function(e,r,o,n){return r+j.keyframesStringMap[o].nameFlipped+n})),Z=N.clone();if(s===n.combined)(ee=N.clone()).value=X,Z.value=Y,V?(x.append(ee),E.append(Z)):(x.append(Z),E.append(ee)),k.push(N);else N.value=X,Z.value=Y,V?x.append(Z):E.append(Z),f&&s!==n.diff&&(le(N,P),k.push(N))}else f&&!se(N)&&(s===n.diff?le(N,x):le(N,P),k.push(N));else{if(G===q&&$===D)return void((H||J||_)&&!se(N)&&(s===n.diff?le(N,x):le(N,H||_?w:P),k.push(N)));if(function(e,r,o){return!!o[r.prop]&&Object.entries(o[r.prop]).some((function(n){return n[1].value===r.value.trim()&&!ce(e,n[1].decl,o)}))}(e,F,A))return T=!0,void(J&&!se(N)&&(s===n.diff?le(N,x):le(N,P),k.push(N)));if(s===n.combined)V?(le(N,x),E.append(F)):(le(N,E),x.append(F)),k.push(N);else{var ee;if(m.test(N.prop)&&!A[F.prop])(ee=N.clone()).value=ie[N.prop]||"unset",V?x.append(ee):E.append(ee);J&&!se(N)&&s!==n.diff&&(le(N,P),k.push(N)),V?x.append(F):E.append(F)}O.push(B)}}})),k.length&&k.forEach((function(e){return e.remove()})),x.nodes.length||E.nodes.length||w.nodes.length||P.nodes.length?r?Q(e,x,E,w,P):J(e,x,E,w,P):h===i.disabled||T||t?s!==n.diff||t||j.rulesToRemove.push(e):j.rulesAutoRename.push(e)},fe=function(e){j.options.mode===n.diff&&j.rulesToRemove.push(e)},pe=function(e,r,o){void 0===r&&(r=void 0),void 0===o&&(o=!1);var i={},d=j.options,l=d.mode,s=d.source,u=d.ltrPrefix,f=d.rtlPrefix;$(e,["rule"],(function(r,o){var d,p;if(o.directive===c.RAW&&o.option){var b=U(i),m=a.default.parse(o.option,{from:null===(p=null===(d=e.source)||void 0===d?void 0:d.input)||void 0===p?void 0:p.from});return l!==n.diff&&m.walkRules((function(e){D(e,!b&&s===t.ltr||b&&b===t.ltr?f:u)})),void r.replaceWith(m.nodes)}V(r.next()),r.remove(),B(o,i)||(i[o.directive]=o)}),(function(e){if(L(i,c.IGNORE))fe(e);else{var n=e,t=U(i,r);L(i,c.RENAME)?z(n)?fe(n):(j.rulesAutoRename.push(n),ue(n,o,t,!0)):z(n)?fe(n):ue(n,o,t),pe(n,r,!0)}}))},be=function(e){var r={};$(e,["atrule","rule"],(function(e,o){B(o,r)||(r[o.directive]=o)}),(function(e){if(!L(r,c.IGNORE)&&"atrule"===e.type){var o=e;if("keyframes"!==K(o.name)){var n=U(r);pe(o,n),be(o)}}}))},me=function(e){j.options.mode===n.diff&&j.keyframesToRemove.push(e)};function ve(e){return void 0===e&&(e={}),{postcssPlugin:"postcss-rtlcss",Once:function(r){N(e),function(e){var r=j.options,o=r.source,n=r.processUrls,i=r.useCalc,l=r.stringMap;if(r.processKeyFrames){var s={};$(e,["atrule","rule"],(function(e,r){B(r,s)||(s[r.directive]=r)}),(function(e){var r,u;if(L(s,c.IGNORE))me(e);else if("atrule"===e.type){var f=e;if("keyframes"===K(f.name)){var p=f.toString(),b=d.default.process(p,{processUrls:n,useCalc:i,stringMap:l});if(p!==b){var m=a.default.parse(b,{from:null===(u=null===(r=f.source)||void 0===r?void 0:r.input)||void 0===u?void 0:u.from}).first,v=f.params,g="".concat(v,"-").concat(t.ltr),h="".concat(v,"-").concat(t.rtl),y=U(s);f.params=!y&&o===t.ltr||y&&y===t.ltr?g:h,m.params=!y&&o===t.ltr||y&&y===t.ltr?h:g,j.keyframes.push({atRuleParams:v,atRule:f,atRuleFlipped:m})}else me(f)}}})),I()}}(r),be(r),pe(r),j.rules.forEach((function(e){var r=e.rule,o=e.ruleLTR,n=e.ruleRTL,t=e.ruleBoth,i=e.ruleSafe;t&&t.nodes.length&&r.after(t),n&&n.nodes.length&&r.after(n),o&&o.nodes.length&&r.after(o),i&&i.nodes.length&&r.after(i),Y(r),X(r,o,n,t,i)})),j.keyframes.forEach((function(e){var r=e.atRule,o=e.atRuleFlipped;r.after(o),X(r,o)})),function(){if(j.rulesAutoRename.length){var e=j.options.stringMap.reduce((function(e,r){var o="string"==typeof r.search?[r.search]:r.search,n="string"==typeof r.replace?[r.replace]:r.replace;return o.forEach((function(r,o){e[r]=n[o],e[n[o]]=r})),e}),{}),r=Object.keys(e).join("|"),o=j.options.greedy?new RegExp("(".concat(r,")"),"g"):new RegExp("\\b(".concat(r,")\\b"),"g"),t={},a=[];j.rulesAutoRename.forEach((function(e){var r=!1;e.selectors.forEach((function(e){o.test(e)&&(t[e]=!0,r=!0),o.lastIndex=0})),r?a.push(e):j.options.mode===n.diff&&j.rulesToRemove.push(e)})),a.forEach((function(r){var a=r.selectors.join("|");r.selectors=r.selectors.map((function(r){var n=r.replace(o,(function(r,o){return e[o]}));return j.options.autoRename!==i.strict||j.options.autoRename===i.strict&&t[n]?n:r})),r.selectors.join("|")===a&&j.options.mode===n.diff&&j.rulesToRemove.push(r)}))}}(),function(e){var r=j.options,o=j.rules,t=j.rulesToRemove,i=j.keyframes,a=j.keyframesToRemove,d=r.mode,l=r.processKeyFrames;d===n.diff&&(o.forEach((function(e){e.rule.remove()})),t.forEach((function(e){e.remove()})),i.forEach((function(e){e.atRule.remove()})),a.forEach((function(e){e.remove()}))),e.walk((function(r){if(d===n.diff&&("comment"===r.type?r.remove():"atrule"!==r.type||l||"keyframes"!==K(r.name)||r.remove()),("rule"===r.type||"atrule"===r.type)&&r.nodes)if(H(r)){var o=r.prev();o?"comment"!==o.type&&V(r):V(r,r.parent===e?"":"\n")}else r.remove()}))}(r)}}}ve.postcss=!0,module.exports=ve;
